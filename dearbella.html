<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Drag & Heart Game</title>
<link href="https://fonts.googleapis.com/css2?family=Bangers&display=swap" rel="stylesheet">
<style>
body {
  background-color: #b7ddf2;
  font-family: 'Bangers', cursive;
  text-align: center;
  margin:0;
  padding:20px;
}

h1 {
  color:#2c3e50;
  font-size:2.5rem;
  margin-top:20px;
}

#gameBoard {
  display:grid;
  grid-template-columns:repeat(6,100px);
  gap:15px;
  justify-content:center;
  margin-top:20px;
}

/* CARD FLIP */
.card {
  width:100px;
  height:100px;
  perspective:800px;
  cursor:pointer;
}

.card-inner {
  width:100%;
  height:100%;
  position:relative;
  transform-style:preserve-3d;
  transition: transform 0.6s;
}

.card.flipped .card-inner {
  transform: rotateY(180deg);
}

.card-front, .card-back {
  position:absolute;
  width:100%;
  height:100%;
  backface-visibility:hidden;
  display:flex;
  justify-content:center;
  align-items:center;
  cursor:pointer;
}

/* FRONT – question mark */
.card-front {
  background:#ffb6c1;
  font-size:2rem;
  color:white;
  clip-path: polygon(
    50% 0%, 61% 14%, 75% 25%, 85% 38%, 90% 50%, 
    85% 62%, 75% 75%, 61% 86%, 50% 100%, 
    39% 86%, 25% 75%, 15% 62%, 10% 50%, 
    15% 38%, 25% 25%, 39% 14%
  );
}

/* BACK – картны зураг */
.card-back {
  transform: rotateY(180deg);
  overflow:hidden;
  clip-path: polygon(
    50% 0%, 61% 14%, 75% 25%, 85% 38%, 90% 50%, 
    85% 62%, 75% 75%, 61% 86%, 50% 100%, 
    39% 86%, 25% 75%, 15% 62%, 10% 50%, 
    15% 38%, 25% 25%, 39% 14%
  );
}

.card-back img {
  width:100%;
  height:100%;
  object-fit:cover;
}

.card.matched .card-back {
  box-shadow: 0 0 20px #ff4f81;
}
</style>
</head>
<body>

<h1>Drag & Heart Game</h1>
<div id="gameBoard"></div>

<script>
const board = document.getElementById("gameBoard");
let imgs = [];

// Load 18 heart images, create 2 of each (36 total)
for(let i=1;i<=18;i++){
  const im = new Image();
  im.src = `images/heart${i}.png`;
  imgs.push(im, im);
}

// Shuffle
imgs.sort(()=>0.5-Math.random());

let first=null, lock=false;

imgs.forEach(img=>{
  const c = document.createElement("div");
  c.className = "card";
  c.innerHTML=`
    <div class="card-inner">
      <div class="card-front">?</div>
      <div class="card-back"><img src="${img.src}"></div>
    </div>`;
  board.appendChild(c);

  c.onclick = ()=>{
    if(lock || c===first) return;

    // Simple heart sound
    const a = new (window.AudioContext||window.webkitAudioContext)();
    const o = a.createOscillator();
    const g = a.createGain();
    o.frequency.value=220;
    g.gain.value=0.1;
    o.connect(g); g.connect(a.destination);
    o.start(); o.stop(a.currentTime+0.1);

    c.classList.add("flipped");

    if(!first){ first=c; return; }

    lock=true;
    const aImg=first.querySelector("img").src;
    const bImg=c.querySelector("img").src;

    if(aImg===bImg){
      first=null; lock=false;
    } else {
      setTimeout(()=>{
        first.classList.remove("flipped");
        c.classList.remove("flipped");
        first=null; lock=false;
      },700);
    }
  };
});
</script>
</body>
</html>

